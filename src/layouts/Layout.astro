---
import '../styles/global.css';

interface Props {
	title: string;
}

const { title } = Astro.props;

const navItems = [
	{ label: 'HOME', href: '/' },
	{ label: 'THE GLOB', href: '/the-glob' },
	{ label: 'HEALTH CHECK', href: '/health-check' },
	{ label: 'WHO ARE LIONS', href: '/whoarelions' },
	{ label: 'EVENTS', href: '/events' },
	{ label: 'COSTS', href: '/costs' },
	{ label: 'CONTACT US', href: '/contact-us' },
	{ label: 'SPONSORS', href: '/sponsors' },
];

const currentPath = Astro.url.pathname;
---

<!DOCTYPE html>
<html lang="en-GB" dir="ltr" class="scroll-smooth">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="author" content="Expose Yourself" />
	<meta name="description" content="A short description of your website content, what you talk about and who you are talking to. We suggest you add this text to tell your users what you are talking about in your website before they come and visit. It will be amongst search engine results." />
	<title>{title}</title>
</head>
<body class="m-0 p-0 text-left min-h-full font-opensans bg-glob-dark">
	<div id="imPageExtContainer" class="min-h-full bg-glob-orange">
		<div id="imPageIntContainer" class="relative">
			<!-- Header Background -->
			<div id="imHeaderBg" class="absolute left-0 top-0 w-full h-20 bg-glob-dark z-[1]"></div>
			
			<div id="imPage" class="relative w-full">
				
				<!-- Header -->
				<header id="imHeader" class="relative z-10 bg-glob-dark">
					<h1 class="hidden">The Glob</h1>
					<div id="imHeaderObjects" class="mx-auto relative h-[150px] max-w-[960px] px-4">
						
						<!-- Navigation Menu -->
						<div id="imHeader_imMenuObject_12_wrapper" class="absolute top-[6px] left-0 right-0 text-center z-[1002]">
							<div id="imHeader_imMenuObject_12">
								<div id="imHeader_imMenuObject_12_container" class="border-0 w-full box-border bg-transparent p-0 inline-table">
									
									<!-- Hamburger Button (Mobile Only) -->
									<div class="hamburger-button hamburger-component hidden max-md:inline-block cursor-pointer w-8 h-8 align-top p-0 border-0 max-md:absolute max-md:top-5 max-md:left-2.5 max-md:z-[10302]">
										<div class="table w-full h-full relative z-[1]">
											<div class="table-cell align-middle">
												<div class="hamburger-bar my-[3px] mx-auto w-[65%] h-[3px] bg-white"></div>
												<div class="hamburger-bar my-[3px] mx-auto w-[65%] h-[3px] bg-white"></div>
												<div class="hamburger-bar my-[3px] mx-auto w-[65%] h-[3px] bg-white"></div>
											</div>
										</div>
									</div>
									
									<!-- Mobile Menu Overlay -->
									<div id="mobile-menu-overlay" class="hidden fixed inset-0 bg-black/50 z-[10300]"></div>
									
									<!-- Mobile Menu Panel -->
									<div id="mobile-menu-panel" class="hidden fixed top-0 bottom-0 left-0 w-[200px] bg-glob-dark z-[10301]">
										<div id="mobile-menu-close" class="text-right p-2 text-[30px] text-[#e0e0e0] cursor-pointer hover:text-glob-gold">
											<span>&times;</span>
										</div>
										<ul id="mobile-menu-list" class="list-none m-0 p-0 h-[calc(100%-40px)] overflow-y-auto">
											{navItems.map(item => (
												<li class={`relative block ${currentPath === item.href || (item.href !== '/' && currentPath.startsWith(item.href)) ? 'imMnMnCurrent' : ''}`} data-link-paths={item.href}>
													<div class="block overflow-hidden w-[180px] h-[61px] px-2.5 bg-glob-dark relative">
														<div class="table w-full h-full relative z-[1]">
															<a class="label table-cell align-middle w-full h-full font-opensans text-[12pt] not-italic no-underline text-white font-normal hover:text-glob-gold [&.imMnMnCurrent]:text-glob-gold" href={item.href}>{item.label}</a>
														</div>
													</div>
												</li>
											))}
											</ul>
										</div>
										
										<!-- Navigation Links (Desktop) -->
										<ul class="list-none m-0 p-0 after:content-[''] after:table after:clear-both max-md:hidden flex flex-wrap justify-center">
											{navItems.map(item => (
												<li class={`imPage relative ml-0 mt-0 inline-block align-top ${currentPath === item.href || (item.href !== '/' && currentPath.startsWith(item.href)) ? 'imMnMnCurrent' : ''}`} data-link-paths={item.href}>
													<div class="label-wrapper block overflow-hidden h-[31px] px-3 py-0 border-0 bg-transparent border-[#d3d3d3] border-solid">
														<div class="label-inner-wrapper table w-full h-full relative z-[1]">
															<a class="label table-cell align-middle w-full h-full font-opensans text-[11pt] not-italic no-underline text-center text-white font-normal hover:text-glob-gold [&.imMnMnCurrent]:text-glob-gold whitespace-nowrap" href={item.href}>{item.label}</a>
														</div>
													</div>
												</li>
											))}
										</ul>
									</div>
								</div>
							</div>
							
							<!-- Title -->
							<div id="imHeader_imObjectTitle_13_wrapper" class="absolute top-[89px] left-0 w-[221px] h-[60px] text-center z-[1003]">
								<div id="imHeader_imObjectTitle_13" class="m-0 text-center">
									<span id="imHeader_imObjectTitle_13_text" class="font-fredoka text-[24pt] p-0 bg-transparent relative inline-block">
										<a href="/" class="text-glob-dark no-underline whitespace-pre-wrap hover:text-glob-gold">The Glob</a>
									</span>
								</div>
							</div>
							
							<!-- Header Logo -->
							<div id="imHeader_imObjectImage_14_wrapper" class="absolute top-3 right-4 w-[138px] h-[135px] text-center z-[1004] overflow-hidden max-md:right-2.5 max-md:w-[100px] max-md:h-[100px]">
								<div id="imHeader_imObjectImage_14">
									<div id="imHeader_imObjectImage_14_container">
										<img src="/images/LCI_emblem_2color_web_685u20kc.png" alt="" width="138" height="138" class="w-full h-auto align-top" />
									</div>
								</div>
							</div>
						</div>
					</header>
					
					<!-- Sticky Bar (Desktop Only) -->
					<div id="imStickyBarContainer" class="visible fixed top-0 left-0 right-0 mx-auto w-full h-[60px] box-border z-[10301] transform translate-z-0 max-md:!hidden">
						<div id="imStickyBarGraphics" class="absolute top-0 left-0 right-0 mx-auto w-full h-[60px] box-border bg-glob-dark opacity-100 z-[10301]"></div>
						<div id="imStickyBar" class="relative top-0 left-0 mx-auto max-w-[960px] px-4">
							<div id="imStickyBarObjects" class="relative h-[60px]">
								<div id="imStickyBar_imMenuObject_01_wrapper" class="absolute top-2.5 left-0 right-0 text-center z-[1002]">
									<div id="imStickyBar_imMenuObject_01">
										<div id="imStickyBar_imMenuObject_01_container" class="border-0 w-full box-border bg-transparent p-0 inline-table">
											<ul class="list-none m-0 p-0 after:content-[''] after:table after:clear-both flex flex-wrap justify-center">
												{navItems.map(item => (
													<li class={`imPage relative ml-0 mt-0 inline-block align-top ${currentPath === item.href || (item.href !== '/' && currentPath.startsWith(item.href)) ? 'imMnMnCurrent' : ''}`} data-link-paths={item.href}>
														<div class="label-wrapper block overflow-hidden h-[33px] px-3 py-0 border-0 bg-transparent border-[#d3d3d3] border-solid">
															<div class="label-inner-wrapper table w-full h-full relative z-[1]">
																<a class="label table-cell align-middle w-full h-full font-opensans text-[12pt] not-italic no-underline text-center text-white font-normal hover:text-glob-gold [&.imMnMnCurrent]:text-glob-gold whitespace-nowrap" href={item.href}>{item.label}</a>
															</div>
														</div>
													</li>
												))}
											</ul>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<a class="hidden" href="#imGoToCont">Go to content</a>
					
					<main id="imContent" class="relative">
						<a id="imGoToCont"></a>
						<slot />
					</main>
					
					<!-- Footer - Unified for desktop and mobile -->
					<footer id="imFooter" class="bg-glob-dark mt-auto">
						<div class="max-w-[960px] mx-auto px-6 py-6">
							<!-- Row 1: Title and Image side by side -->
							<div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
								<a href="/" class="font-fredoka text-[20pt] text-white no-underline hover:text-glob-gold">The Glob</a>
								<img src="/images/weServe.png" alt="" class="w-[150px] h-auto max-md:w-[120px]" />
							</div>
							<!-- Row 2: Full width text below -->
							<div class="mt-6 text-glob-text w-full">
								<p class="text-[8pt] leading-4">Project run by Lions District 202D - Zone 1</p>
								<p class="text-[8pt] leading-4 mt-2">Dr Warren Nicholls</p>
							</div>
						</div>
					</footer>
				</div>
			</div>
		</div>
		
		<script>
			// Mobile menu toggle
			document.addEventListener('DOMContentLoaded', function() {
				const hamburgerBtn = document.querySelector('.hamburger-button');
				const mobileMenuPanel = document.getElementById('mobile-menu-panel');
				const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
				const closeBtn = document.getElementById('mobile-menu-close');
				const mobileMenuList = document.getElementById('mobile-menu-list');

				function openMenu() {
					if (mobileMenuPanel) mobileMenuPanel.classList.remove('hidden');
					if (mobileMenuOverlay) mobileMenuOverlay.classList.remove('hidden');
					document.body.style.overflow = 'hidden';
				}

				function closeMenu() {
					if (mobileMenuPanel) mobileMenuPanel.classList.add('hidden');
					if (mobileMenuOverlay) mobileMenuOverlay.classList.add('hidden');
					document.body.style.overflow = '';
				}

				if (hamburgerBtn) {
					hamburgerBtn.addEventListener('click', function(e) {
						e.preventDefault();
						openMenu();
					});
				}

				if (closeBtn) {
					closeBtn.addEventListener('click', function(e) {
						e.preventDefault();
						closeMenu();
					});
				}

				if (mobileMenuOverlay) {
					mobileMenuOverlay.addEventListener('click', function() {
						closeMenu();
					});
				}

				if (mobileMenuList) {
					const menuLinks = mobileMenuList.querySelectorAll('a');
					menuLinks.forEach(function(link) {
						link.addEventListener('click', function() {
							closeMenu();
						});
					});
				}
			});
		</script>
	</body>
	</html>
