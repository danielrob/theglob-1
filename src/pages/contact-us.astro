---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Contact Us - The Glob">
	<div class="max-w-[960px] mx-auto py-5 px-5">
		<!-- Contact Form -->
		<div class="bg-glob-gray p-8 mb-8">
			<h3 class="text-[18pt] font-bold text-glob-text mb-4">Send us a message</h3>
			<form id="contact-form" action="/api/contact" method="POST" class="space-y-6">
				<!-- Name Field -->
				<div class="form-field">
					<label for="name" class="block text-glob-text text-[14pt] mb-2">Name</label>
					<input 
						type="text" 
						id="name" 
						name="name" 
						class="w-full px-4 py-3 bg-white border border-glob-border rounded text-glob-dark text-[14pt] focus:outline-none focus:border-glob-gold focus:ring-1 focus:ring-glob-gold"
					/>
				</div>
				
				<!-- Surname Field -->
				<div class="form-field">
					<label for="surname" class="block text-glob-text text-[14pt] mb-2">Surname</label>
					<input 
						type="text" 
						id="surname" 
						name="surname" 
						class="w-full px-4 py-3 bg-white border border-glob-border rounded text-glob-dark text-[14pt] focus:outline-none focus:border-glob-gold focus:ring-1 focus:ring-glob-gold"
					/>
				</div>
				
				<!-- Email Field -->
				<div class="form-field">
					<label for="email" class="block text-glob-text text-[14pt] mb-2">Email *</label>
					<input 
						type="email" 
						id="email" 
						name="email" 
						required
						class="w-full px-4 py-3 bg-white border border-glob-border rounded text-glob-dark text-[14pt] focus:outline-none focus:border-glob-gold focus:ring-1 focus:ring-glob-gold"
					/>
				</div>
				
				<!-- Confirm Email Field -->
				<div class="form-field">
					<label for="email_confirm" class="block text-glob-text text-[14pt] mb-2">Repeat Email *</label>
					<input 
						type="email" 
						id="email_confirm" 
						name="email_confirm" 
						required
						class="w-full px-4 py-3 bg-white border border-glob-border rounded text-glob-dark text-[14pt] focus:outline-none focus:border-glob-gold focus:ring-1 focus:ring-glob-gold"
					/>
				</div>
				
				<!-- Message Field -->
				<div class="form-field">
					<label for="message" class="block text-glob-text text-[14pt] mb-2">Add your Message below:</label>
					<textarea 
						id="message" 
						name="message" 
						rows="6"
						class="w-full px-4 py-3 bg-white border border-glob-border rounded text-glob-dark text-[14pt] focus:outline-none focus:border-glob-gold focus:ring-1 focus:ring-glob-gold resize-vertical"
					></textarea>
				</div>
				
				<!-- Honeypot field for spam protection -->
				<div class="hidden">
					<input type="text" id="website" name="website" />
				</div>
				
				<!-- Submit Button -->
				<div class="form-field pt-4">
					<button 
						type="submit" 
						class="px-8 py-3 bg-glob-dark text-white text-[14pt] font-bold rounded hover:bg-glob-gold hover:text-glob-dark transition-colors duration-300 cursor-pointer"
					>
						Send
					</button>
				</div>
			</form>
			
			<!-- Form Status Message -->
			<div id="form-status" class="hidden mt-6 p-4 rounded text-center"></div>
		</div>
		
	</div>
	
	<script>
		// Client-side form validation
		document.getElementById('contact-form').addEventListener('submit', function(e) {
			const email = document.getElementById('email').value;
			const emailConfirm = document.getElementById('email_confirm').value;
			const statusDiv = document.getElementById('form-status');
			
			if (email !== emailConfirm) {
				e.preventDefault();
				statusDiv.classList.remove('hidden', 'bg-green-100', 'text-green-800');
				statusDiv.classList.add('bg-red-100', 'text-red-800');
				statusDiv.textContent = 'Email addresses do not match. Please check and try again.';
				return false;
			}
			
			// Check honeypot
			const honeypot = document.getElementById('website').value;
			if (honeypot) {
				e.preventDefault();
				return false;
			}
		});
	</script>
</Layout>
